Memoria DRAM (Figuras)
======================

:doctitle: Memoria DRAM (Figuras)

Figuras
-------

Figuras del documento 'esquema_stalling' de la 7ª edición del libro arquitectura y organización de computadoras de W. Stalling.

RAS-CAS-MUX
~~~~~~~~~~~

[.text-center]
* image:images/dram/cas_ras_mux.png[]


Timing
~~~~~~

Memoria síncrona
^^^^^^^^^^^^^^^^

[.text-center]
image:images/dram/synchronous_dram.png[]

Memoria asíncrona
^^^^^^^^^^^^^^^^^

[.text-center]
image:images/dram/asynchronous_dram.png[]



Sistema
~~~~~~~

[.text-center]
image:images/dram/images/dram/system.png[]

[.text-center]
image:images/dram/System_Bus_Structure_RAM_Controller.gif[]


Módulo o Tarjeta
~~~~~~~~~~~~~~~~

[.text-center]
image:images/dram/tarjeta_micron_1.png[]

Cada módulo se inserta en un slot de la placa base de la computadora.

[.text-center]
image:images/dram/tarjeta_micron_2.png[]


Una tarjeta es un agrupamiento por chips. Los chips suelen estar soldados por ambas caras de la tarjeta.

[.text-center]
image:images/dram/tarjeta_esquema.png[]

Celda
~~~~~

[.text-center]
image:images/dram/cell_1t1c.png[]

*CELDA*:

* Esquema eléctrico de una celda de memoria DRAM:
* Transistor MOS de acceso al condensador
* Condensador de almacenamiento de carga. Almacena 1 bit.

[.text-center]
image:images/dram/cell_capacitor.png[]

* Condensador integrado en la oblea de Silicio.

SRAM-cell
~~~~~~~~~

image:images/dram/sram_cell_6T.gif[]

Array
~~~~~
[.text-center]
image:images/dram/array1.png[]

*ARRAY*:

* Organización de celdas en una dimensión: 1D:  Filas. 
* Un circuito decodificador de filas
* 1024 filas y cada fila son 16 celdas. 
* El buffer i/o es de 16 bits.
* Al direccionar una fila se conectan las 16 celdas al buffer i/o.

[.text-center]
image:images/dram/array2.png[]

* Organización de celdas en dos dimensiones: 2D: matriz de filas y columnas
* Dos decodificadores: un decodificador de filas y un decodificador de columnas.
* Cada par (fila, columna) accede a una celda.


Bank
~~~~

[.text-center]
image:images/dram/bank1.png[Bank: Array en el chip de memoria DIMM]

Tres chips. Cada Chip esta formado por un *BANCO*. Un banco es un agrupamiento de Arrays.

Chip x2 DRAM: 

* x2 significa un chip con un buffer i/o de 2 bits -> bus de datos de 2 bits 
* Un banco con 2 arrays. Cada array proporciona 1 bit.

Chip x4 DRAM: 

* x4 significa un chip con un buffer i/o de 4 bits -> bus de datos de 4 bits
* Un banco con 4 arrays. Cada array proporciona 1 bit.

Chip x8 DRAM:

* x8 significa un chip buffer i/o de 8 bits -> bus de datos de 8 bits
* Un banco con 8 arrays. Cada array proporciona 1 bit.

Chip
~~~~

[.text-center]
image:images/dram/bank2.png[]



* Chip formado por 4 bancos y 1 buffer i/o de 16 bits.
* Cada banco proporciona 16 bits.
* Cada banco son 16 array
* Cada array tiene 8192 filas y 512 columnas. 2^13^ filas x  2^9^ columnas = 2^22^ celdas
* Capacidad de cada banco: 2^22^ celdas x 16 bits = 4*2^20^*2Bytes=8MBytes
* Cada banco es un espacio de direcciones de 8MB independiente.
* Chip : 4 Bancos : 32 MB -> 16M x2Bytes DRAM -> 16M x16bits DRAM
 


Rank
~~~~

[.text-center]
image:images/dram/rank1.png[title="Rank: agrupamiento de chips en el módulo de memoria DIMM"]

*RANK*: 

* 4 módulos DIMM con 4 chips cada uno.
* Agrupamiento de chips en el SISTEMA de memoria ( todos los módulo de memoria DIMM). 
* En este caso cada Rank agrupa todos los chips del mismo módulo.
* Cada chip select selecciona un rank diferente.

[.text-center]
image:images/dram/rank2.png[]

Page
~~~~

[.text-center]
image:images/dram/page.png[]

Organization-rank-bank-array-cell
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

[.text-center]
image:images/dram/structure_full.png[]

sdram
~~~~~

[.text-center]
image:images/dram/sdram_ddr2.png[]

[.text-center]
image:images/dram/sdram_read_cronogram.png[]

[.text-center]
image:images/dram/sdram_control_logic.png[]

[.text-center]
image:images/dram/sdram_programmable.png[]

Double Data Rate (DDR)
~~~~~~~~~~~~~~~~~~~~~~

[.text-center]
image:images/dram/sdram_frecuency.png[]

DRAM síncrona no DDR

* NO DDR = el buffer i/o transfiere el dato únicamente en el flanco de subida o bajada.
* cada celda contiene un bit.
* velocidad de transferencia del buffer i/o = velocidad de acceso a la celda 

[.text-center]
image:images/dram/ddr1_frecuency.png[]

DDR1 -> Primera generación DDR: 

* el buffer i/o transfiere tanto en el flanco de bajada como de súbida del reloj, es decir el *doble* que el caso no ddr.
* cada macrocelda contiene 2 bits que se leen simultáneamente y se copian en el buffer i/o. Un bit se transfiere en el flanco positivo y el siguiente en el negativo.
* velocidad de reloj del buffer i/o = velocidad de acceso a la celda = f
* velocidad de transferencia efectiva del bus = 2 x velocidad de reloj del buffer i/o = 2*f

[.text-center]
image::images/dram/ddr2_frecuency.png[align="center", title="DDR2 frecuencia"]


DDR2 -> Segunda generación DDR: 

* el buffer i/o transfiere tanto en el flanco de bajada como de súbida del reloj, es decir el *doble* que el caso no ddr.
* cada macrocelda contiene 4 bits que se leen simultáneamente y se copian en el buffer i/o. Un bit se transfiere en el flanco positivo y el siguiente en el negativo.
* velocidad de reloj del buffer i/o = 2 x velocidad de acceso a la celda = 2*f
** la velocidad del buffer i/o , superior a la de acceso a la celda, se consigue gracias a la tecnología del buffer i/o.
* velocidad de transferencia efectiva del bus = 2 x velocidad de reloj del buffer i/o = 2*2*f =4*f

[.text-center]
image:images/dram/ddr3_frecuency.png[]

DDR3 -> Tercera generación DDR

* el buffer i/o transfiere tanto en el flanco de bajada como de súbida del reloj, es decir el *doble* que el caso no ddr.
* cada macrocelda contiene 8 bits que se leen simultáneamente y se copian en el buffer i/o. Un bit se transfiere en el flanco positivo y el siguiente en el negativo.
* velocidad de reloj del buffer i/o = 4 x velocidad de acceso a la celda = 4*f
** la velocidad del buffer i/o , superior a la de acceso a la celda, se consigue gracias a la tecnología del buffer i/o.
* velocidad de transferencia efectiva del bus = 2 x velocidad de reloj del buffer i/o = 2*4*f =8*f
* Relación de frecuencias
+

[ditaa]
----------------------------------------------------------------------
        +-----+     +-----+     +-----+     +-----+  
        ^     v     |     |     |     |     |     |
       -+     +-----+     +-----+     +-----+     +-----
        <-Fe->
  
        <-----Fr---->

        <--------------------Fa------------------------->

----------------------------------------------------------------------

** Fe: frecuencia efectiva, Fr: Frecuencia real, Frecuencia de acceso
** DDR3 -> Fe= 2* Fr = 8*Fa 

