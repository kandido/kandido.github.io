<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.17">
<meta name="keywords" content="computer, architecture">
<meta name="author" content="Cándido Aramburu">
<title>Estructura de Computadores  (240306)</title>
<style>
@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";
@import "https://cdn.jsdelivr.net/gh/asciidoctor/asciidoctor@2.0/data/stylesheets/asciidoctor-default.css";



h1, h2, h3, h4, h5, h6, #toctitle,
.sidebarblock > .content > .title {
  color: rgba(221, 72, 20, 0.8);
}



</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<!-- Change some CSS.
<style>
.imageblock{
  &.text-center > .title {
    text-align: center !important;
  }
}
</style>

-->

<style type="text/css"> .imageblock > .title { text-align: center; } </style>

<style>.toc-current{font-weight: bold;} .toc-root{font-family: "Open Sans","DejaVu Sans",sans-serif;
                       font-size: 0.9em;} #content{display: flex; flex-direction: column; flex: 1 1 auto;}
             .nav-footer{text-align: center; margin-top: auto;}
             .nav-footer > p > a {white-space: nowrap;}</style>
</head>
<body id="_prácticas_cuestionario" class="book">
<div id="header">
<h1>Estructura de Computadores  (240306)</h1>
<div class="details">
<span id="author" class="author">Cándido Aramburu</span><br>
<span id="email" class="email"><a href="mailto:candido@unavarra.es">candido@unavarra.es</a></span><br>
<span id="revdate">2022-09-20</span>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<p><span class="toc-root"><a href="eecc_book.html">Estructura de Computadores  (240306)</a></span></p><ul class="sectlevel0">
<li><a href="_i_arquitectura_del_repertorio_de_instrucciones_isa_computadora_von_neumann_datos_instrucciones_programación.html">I Arquitectura del Repertorio de Instrucciones (ISA): computadora von Neumann, datos, instrucciones, programación.</a>
</li>
<li><a href="_ii_unidades_básicas_procesador_central_unidad_de_memoria_mecanismos_entradasalida.html">II Unidades Básicas: Procesador Central, Unidad de Memoria, Mecanismos Entrada/Salida.</a>
</li>
<li><a href="_iii_ejercicios_de_teoría.html">III Ejercicios de Teoría</a>
</li>
<li><a href="_iv_autoevaluación_teoría.html">IV Autoevaluación Teoría</a>
</li>
<li><a href="_v_guiones_de_prácticas_programación_ensamblador_x86.html">V Guiones de Prácticas: Programación Ensamblador x86</a>
</li>
<li><a href="_vi_hojas_de_referencia_rápida.html">VI Hojas de Referencia Rápida</a>
</li>
<li><a href="_vii_autoevaluación_prácticas.html">VII Autoevaluación Prácticas</a>
<ul class="sectlevel1">
<li><a href="_prácticas_cuestionario.html"><span class="toc-current">20. Prácticas: Cuestionario</span></a>
<ul class="sectlevel2">
<li><a href="_prácticas_cuestionario.html#prac_cues">20.1. Práctica 1ª: Introducción a la Programación en Lenguaje Ensamblador AT&amp;T x86-32</a>
<ul class="sectlevel3">
<li><a href="_prácticas_cuestionario.html#_cuestiones_teóricas">20.1.1. Cuestiones teóricas</a>
</li>
<li><a href="_prácticas_cuestionario.html#_cuestiones_prácticas">20.1.2. Cuestiones prácticas</a>
</li>
</ul>
</li>
<li><a href="_prácticas_cuestionario.html#_práctica_2ª_representación_de_los_datos">20.2. Práctica 2ª: Representación de los Datos</a>
<ul class="sectlevel3">
<li><a href="_prácticas_cuestionario.html#_módulo_datos_size_s">20.2.1. Módulo datos_size.s</a>
</li>
<li><a href="_prácticas_cuestionario.html#_módulo_datos_sufijos_s">20.2.2. Módulo datos_sufijos.s</a>
</li>
<li><a href="_prácticas_cuestionario.html#_módulo_datos_direccionamiento_s">20.2.3. Módulo datos_direccionamiento.s</a>
</li>
</ul>
</li>
<li><a href="_prácticas_cuestionario.html#_práctica_3º_operaciones_aritmetico_lógicas_e_instrucciones_de_salto_condicionales">20.3. Práctica 3º: Operaciones Aritmetico-Lógicas e Instrucciones de Salto Condicionales</a>
<ul class="sectlevel3">
<li><a href="_prácticas_cuestionario.html#_módulo_op_arit_log_s">20.3.1. Módulo op_arit_log.s</a>
</li>
<li><a href="_prácticas_cuestionario.html#_módulo_saltos_s">20.3.2. Módulo saltos.s</a>
</li>
</ul>
</li>
<li><a href="_prácticas_cuestionario.html#_práctica_4_llamadas_al_sistema_operativo">20.4. Práctica 4: LLamadas al Sistema Operativo</a>
<ul class="sectlevel3">
<li><a href="_prácticas_cuestionario.html#_módulo_syscall_write_puts_c">20.4.1. Módulo syscall_write_puts.c</a>
</li>
<li><a href="_prácticas_cuestionario.html#_módulo_syscall_write_puts_s">20.4.2. Módulo syscall_write_puts.s</a>
</li>
</ul>
</li>
<li><a href="_prácticas_cuestionario.html#_práctica_5_llamadas_a_una_subrutina">20.5. Práctica 5: LLamadas a una Subrutina</a>
<ul class="sectlevel3">
<li><a href="_prácticas_cuestionario.html#_módulo_summton_aviso_c">20.5.1. Módulo sumMtoN_aviso.c</a>
</li>
<li><a href="_prácticas_cuestionario.html#_módulo_summton_aviso_s">20.5.2. Módulo sumMtoN_aviso.s</a>
</li>
</ul>
</li>
<li><a href="_prácticas_cuestionario.html#_práctica_6_imagen_bit_map_portable">20.6. Práctica 6: Imagen Bit Map Portable</a>
<ul class="sectlevel3">
<li><a href="_prácticas_cuestionario.html#_programación_en_c_2">20.6.1. Programación en C</a>
</li>
<li><a href="_prácticas_cuestionario.html#_programación_en_asm">20.6.2. Programación en ASM</a>
</li>
<li><a href="_prácticas_cuestionario.html#_gdb_3">20.6.3. GDB</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="_viii_apéndices.html">VIII Apéndices</a>
</li>
<li><a href="_ix_bibliografía.html">IX Bibliografía</a>
</li>
<li><a href="_x_glosario.html">X Glosario</a>
</li>
<li><a href="_xi_colofón.html">XI Colofón</a>
</li>
<li><a href="_index.html">Index</a>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_prácticas_cuestionario">20. Prácticas: Cuestionario</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="prac_cues">20.1. Práctica 1ª: Introducción a la Programación en Lenguaje Ensamblador AT&amp;T x86-32</h3>
<div class="sect3">
<h4 id="_cuestiones_teóricas">20.1.1. Cuestiones teóricas</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Cuál es la principal diferencia entre las arquitecturas de los dos procesadores utilizados en prácticas.</p>
</li>
<li>
<p>Qué fases comprende el toolchain</p>
</li>
<li>
<p>Lista las herramientas de desarrollo a utilizar durante la realización de las prácticas mediante los dos procesadores utilizados.</p>
</li>
<li>
<p>Libro: Programming from the Ground-Up</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Qué es GNU/Linux</p>
</li>
<li>
<p>Qué es GNU</p>
</li>
<li>
<p>Qué es gcc</p>
</li>
<li>
<p>Qué gestiona el kernel</p>
</li>
<li>
<p>¿Se puede acceder simultáneamente a  instruccines y datos?¿Por qué?</p>
</li>
<li>
<p>Cuál es la función del registro PC</p>
</li>
<li>
<p>Cuáles son los dos tipos de registros de la CPU</p>
</li>
<li>
<p>Qué significa Word Size</p>
</li>
<li>
<p>Qué es una varible puntero.</p>
</li>
<li>
<p>Lista cuatro modos diferentes de direccionar un operando.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_cuestiones_prácticas">20.1.2. Cuestiones prácticas</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Comando de compilación del programa fuente ensamblador mediante el front-end <em>gcc</em> qué incluya la tabla de símbolos para el depurador</p>
</li>
<li>
<p>Comando de enlace (linker) del módulo objeto reubicable.</p>
</li>
<li>
<p>Declaración en lenguaje C de la variable <em>n</em> tipo entero con signo de un byte.</p>
</li>
<li>
<p>Instrucción en lenguaje ensamblador del programa sum1toN.s que realiza una suma.</p>
</li>
<li>
<p>Comandos del depurador gdb para la impresión del contenido de la variable <em>n</em></p>
</li>
<li>
<p>Ejecutar <em>sum1toN</em>, compilado de <em>sum1toN.s</em>, paso a paso mediante el depurador GDB ejecutando los comandos necesarios para:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>imprimir el contenido de la variable n y su dirección en memoria principal</p>
</li>
<li>
<p>imprimir la dirección de la etiqueta bucle</p>
</li>
<li>
<p>imprimir el contenido del <em>registro ECX</em> al salir del bucle</p>
</li>
</ol>
</div>
</li>
<li>
<p>Cambiar el tamaño de los operandos de la suma a 2 bytes</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Cambiar el tamaño del operando n &#8594; <code>n: .word 5</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Cambiar la instrucción <code>add %edx,%ecx</code> por la instrucción <code>addw %dx,%ec</code></p>
</li>
<li>
<p>En GDB qué comando hay que utilizar para ejecutar todas las iteracciones del bucle del programa de forma continuada.</p>
</li>
<li>
<p>Comparando las versiones en lenguajes C y ASM de los módulos fuente, por qué la instrucción <em>until</em> del depurador GDB en el caso del módulo fuente en lenguaje C se ejecuta durante la sentencia <em>while</em>.</p>
</li>
<li>
<p>Editando el módulo fuente provocar un error de ensamblaje  al no haber coherencia entre  la declaración del tamaño del operando referenciado por la etiqueta <em>n</em> y la declaración de tamaño de operandos de la instrucción <em>add</em>.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_práctica_2ª_representación_de_los_datos">20.2. Práctica 2ª: Representación de los Datos</h3>
<div class="sect3">
<h4 id="_módulo_datos_size_s">20.2.1. Módulo datos_size.s</h4>
<div class="ulist">
<ul>
<li>
<p>¿En qué orden se guardan los caracteres del string "hola"?</p>
</li>
<li>
<p>¿Cuál es el código ASCII del carácter <em>o</em>?</p>
</li>
<li>
<p>¿Cuál es la dirección de memoria principal donde se almacena el string "hola"?</p>
</li>
<li>
<p>¿Cuál es la dirección memoria principal donde se almacena el array lista?</p>
<div class="ulist">
<ul>
<li>
<p>¿Cuál es el contenido de los primeros 4 bytes a partir de la dirección anterior en sentido ascendente?</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_módulo_datos_sufijos_s">20.2.2. Módulo datos_sufijos.s</h4>
<div class="ulist">
<ul>
<li>
<p>¿En qué orden se guardan los bytes del dato da4?</p>
</li>
<li>
<p>¿Cuál es el resultado de ejecutar <code>mov  da1,%ecx</code>?</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_módulo_datos_direccionamiento_s">20.2.3. Módulo datos_direccionamiento.s</h4>
<div class="ulist">
<ul>
<li>
<p>Con el depurador ejecutar el programa en modo paso a paso realizando las siguientes operaciones.</p>
</li>
<li>
<p>Array <em>da2</em></p>
<div class="ulist">
<ul>
<li>
<p>Imprimir la dirección de memoria del array <em>da2</em> y el contenido del primer elemento: <code>x /xh &amp;da2</code></p>
</li>
<li>
<p>4 elementos de 2bytes del array da2: <code>x /4xh &amp;da2</code></p>
</li>
<li>
<p><code>ptype da2</code>: no debug info: al no tener información el debuger del tamaño de los elementos es necesario indicarlos explicitamente en los comandos posteriores.</p>
<div class="ulist">
<ul>
<li>
<p>Es necesario realizar un <strong>casting</strong> : Array de 4 elementos de tamaño 2bytes:  <code>p /x (short[4])da2</code></p>
</li>
<li>
<p>Fijarse con el comando <em>eXaminar</em> el resultado es independiente de sí hacemos un <strong>casting</strong> (short *): <code>x /4xh (short *)&amp;da2</code></p>
<div class="ulist">
<ul>
<li>
<p>El tamaño y tipo de dato lo fija el argumento del comando: <em>/4xh</em></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Comprobar la norma de almacenamiento <em>little endian</em> identificando cada dirección de memoria a un byte con su contenido.</p>
</li>
<li>
<p>Acceder a la dirección de memoria del elemento de valor -21 del array <em>da2</em>:</p>
<div class="ulist">
<ul>
<li>
<p>el argumento elemento de array en <code>p da2[2]</code> no es válido ya que el debugger carece de información</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Desensamblar</p>
<div class="ulist">
<ul>
<li>
<p><code>disas salto1</code></p>
</li>
<li>
<p><code>disas /r salto1</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_práctica_3º_operaciones_aritmetico_lógicas_e_instrucciones_de_salto_condicionales">20.3. Práctica 3º: Operaciones Aritmetico-Lógicas e Instrucciones de Salto Condicionales</h3>
<div class="sect3">
<h4 id="_módulo_op_arit_log_s">20.3.1. Módulo op_arit_log.s</h4>
<div class="ulist">
<ul>
<li>
<p>Indicar cómo asociar el valor de los sumandos a las macros OPE1 y OPE2.</p>
</li>
<li>
<p>Sin cambiar el valor de los operandos:</p>
<div class="ulist">
<ul>
<li>
<p>indicar el valor de la resta <span class="image"><img src="/usr/share/doc/asciidoc/images/icons/callouts/1.png" alt="1" height="9"></span></p>
</li>
<li>
<p>indicar el valor de la multiplicación <span class="image"><img src="/usr/share/doc/asciidoc/images/icons/callouts/2.png" alt="2" height="9"></span></p>
</li>
<li>
<p>indicar el valor de la división <span class="image"><img src="/usr/share/doc/asciidoc/images/icons/callouts/3.png" alt="3" height="9"></span></p>
</li>
<li>
<p>indicar el valor de la división <span class="image"><img src="/usr/share/doc/asciidoc/images/icons/callouts/4.png" alt="4" width="9"></span></p>
</li>
<li>
<p>indicar el valor de las operaciones lógicas <span class="image"><img src="/usr/share/doc/asciidoc/images/icons/callouts/5.png" alt="5" width="9"></span></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_módulo_saltos_s">20.3.2. Módulo saltos.s</h4>
<div class="ulist">
<ul>
<li>
<p>Registro de Flags</p>
<div class="ulist">
<ul>
<li>
<p>Editar, compilar y ejecutar el siguiente bloque de instrucciones para indicar el contenido del registro EAX y el estado de los flags CF,ZF,SF,PF,OF  después de la ejecución de cada instrucción :</p>
<div class="listingblock">
<div class="content">
<pre>	mov  $0xFFFFFFFF,%eax
	shr  $1,%eax
	add  %eax,%eax
	testb $0xFF,%eax
        cmpl $0xFFFFFFFF,%eax</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Saltos</p>
<div class="ulist">
<ul>
<li>
<p>Editar, compilar y ejecutar el siguiente bloque de instrucciones para indicar  el estado de los flags CF,ZF,SF,PF,OF antes de la ejecución de la instrucción de salto e indicar si se produce o no el salto.</p>
<div class="listingblock">
<div class="content">
<pre>	mov $0x00AA, %ax
	mov $0xFF00, %bx
	cmp %bx,%ax
	ja  salto1
	jg  salto2
salto1: mov $0xFF,%ebx
salto2: mov $1,%eax
	int $0x80</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_práctica_4_llamadas_al_sistema_operativo">20.4. Práctica 4: LLamadas al Sistema Operativo</h3>
<div class="sect3">
<h4 id="_módulo_syscall_write_puts_c">20.4.1. Módulo syscall_write_puts.c</h4>
<div class="ulist">
<ul>
<li>
<p>Desarrollar un programa en lenguaje C que  imprima en la pantalla el mensaje de bienvenida "Hola" . Utilizar las funciones puts(), write() y syscall() de la librería standard de C.</p>
<div class="ulist">
<ul>
<li>
<p><code>man 2 puts</code></p>
</li>
<li>
<p><code>man 2 write</code> : prototipo de la función</p>
<div class="listingblock">
<div class="content">
<pre>WRITE(2)  Linux Programmer's Manual

NAME
       write - write to a file descriptor

SYNOPSIS
       #include &lt;unistd.h&gt;

       ssize_t write(int fd, const void *buf, size_t count);</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><em>fd</em> : file descriptor: el monitor es un fichero virtual con descriptor número 1.</p>
</li>
<li>
<p><em>void *buf</em>: buffer es un puntero que apunta a la cadena de caracteres a imprimir.</p>
</li>
<li>
<p><em>count</em>: tamaño máximo de la cadena de caracteres a imprimir</p>
</li>
<li>
<p>Esta función llama indirectamente al sistema operativo a través de la llamada syscall().</p>
<div class="listingblock">
<div class="content">
<pre>/*
   Programa syscall_write_puts.c
   Descripción: Realiza la llamada al sistema operativo para imprimir en la pantalla
		Realiza la llamada de tres formas diferentes: puts,write,syscall.
   Compilación: gcc -m32 -g -o puts_gets puts_gets.c
*/


// Cabeceras de librerías
#include &lt;stdio.h&gt;  // prototipo de la función puts()
#include &lt;unistd.h&gt; //declaración de las macros STDOUT_FILENO, STDIN_FILENO
#include &lt;syscall.h&gt; //declaración de la función syscall
#include &lt;sys/syscall.h&gt;	// declaración de la macro __NR_write y __NR_exit
#include &lt;stdlib.h&gt;  //declaración de exit()

// Macros
#define LON_BUF  5  // Tamaño del string


void main (void)
{

  char buffer[LON_BUF]="Hola\n";



  puts("\n***************** Práctica : LLAMADAS AL SISTEMA *******************\n"); // función puts() de la librería libc
  puts("\n***************** Imprimo el mensaje de bienvenida mediante la función write(): ");

  write(STDOUT_FILENO, buffer,LON_BUF); // wrapper de la llamada al sistema write.
                                        // ya que write() incluye un syscall(), llama indirectamente al sistema

  puts("\n***************** Imprimo el mensaje de bienvenida mediante la llamada al sistema  syscall(): ");
  syscall(__NR_write,STDOUT_FILENO,buffer,LON_BUF); // función syscall de llamada directa al sistema.
  exit(0xAA); //Salir al sistema envíando el código 0xAA. No es lo mismo que retornar.


}</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_módulo_syscall_write_puts_s">20.4.2. Módulo syscall_write_puts.s</h4>
<div class="ulist">
<ul>
<li>
<p>Desarrollar un programa en lenguaje ensamblador x86-32 <em>syscall_write_puts.s</em> equivalente al programa <em>syscall_write_puts.c</em> llamando a las funciones puts()  y write() . En lugar de utilizar la función syscall() realizar la llamada al sistema directamente con la instrucción <code>int 0x80</code>. Los argumentos de la llamada al sistema operativo se pasan a través de los registros:</p>
<div class="ulist">
<ul>
<li>
<p>1º argumento: a través de EAX: tipo int:  valor <em>__NR_write</em> : valor 4</p>
</li>
<li>
<p>2º argumento: EBX: tipo <em>int fd</em>: valor STDOUT_FILENO: valor 1</p>
</li>
<li>
<p>3º argumento: ECX: tipo <em>const void *buf</em> : puntero al string a imprimir , buffer</p>
</li>
<li>
<p>4º argumento: EDX: tipo <em>size_t count</em>: valor LON_BUF: valor 5</p>
</li>
<li>
<p>Descripción RTL</p>
<div class="listingblock">
<div class="content">
<pre># llamada a la función puts de la librería libc. Es necesrio linkar con libc.
pila &lt;-argumento
call puts
# llamada a la función write de la librería libc. Es necesario linkar con libc.
pila &lt;- 3º argumento
pila &lt;- 2º argumento
pila &lt;- 1º argumento
call write
# LLamada al sistema operativo para ejecutar la operación write
EAX&lt;-4
EBX&lt;-1
ECX&lt;-etiqueta que apunta al string a imprimir
EDX&lt;-5
call sistema_operativo
# Llamada al sistema operativo para ejecutar la operación exit
EAX&lt;-1
EBX&lt;-0
call sistema_operativo</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_práctica_5_llamadas_a_una_subrutina">20.5. Práctica 5: LLamadas a una Subrutina</h3>
<div class="sect3">
<h4 id="_módulo_summton_aviso_c">20.5.1. Módulo sumMtoN_aviso.c</h4>
<div class="ulist">
<ul>
<li>
<p>Desarrollar el programa <em>sumMtoN_aviso.c</em> equivalente al módulo en lenguaje asm <em>sumMtoN.s</em> y añadiendo un mensaje de aviso en caso de error indicando la relación correcta entre los parámetros 1º sumando y 2º sumando.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_módulo_summton_aviso_s">20.5.2. Módulo sumMtoN_aviso.s</h4>
<div class="ulist">
<ul>
<li>
<p>Añadir al programa fuente <em>sumMtoN.s</em> un mensaje de aviso en caso de error indicando la relación correcta entre los parámetros 1º sumando y 2º sumando.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_práctica_6_imagen_bit_map_portable">20.6. Práctica 6: Imagen Bit Map Portable</h3>
<div class="sect3">
<h4 id="_programación_en_c_2">20.6.1. Programación en C</h4>
<div class="ulist">
<ul>
<li>
<p>Leer el procedimiento de programación en el fichero <strong>LEEME.txt</strong></p>
</li>
<li>
<p>El objetivo es modificar la función principal <strong>main()</strong> del programa original <strong>bitmap_gen_test.c</strong> dando lugar a distintos programas independientes entre sí.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>- Compilar y ejecutar el program <em>bitmap_gen_test.c</em></p>
</li>
<li>
<p>-  visualizar la imagen del fichero test.bmp: <strong>$display test.bmp</strong></p>
</li>
<li>
<p>- Módulo <strong>cuadrado_128x128.c</strong> :Cambiar las dimensiones de la imagen a 128 pixeles x 128 pixeles definiendo la macro DIMENSION=128 y definiendo para cada pixel un color gris con una intensidad del 50% de su valor máximo.</p>
</li>
<li>
<p>- Módulo <strong>cuadrados_4.c</strong>: Generar 4 cuadrados, uno dentro de otro simétricamente, donde el cuadrado mayor negro es 512x512 y el resto se reduce 1/8 cada uno. No utilizar ctes en las sentencias de C, utilizar las macros x_coor, y_coor, top para indicar el valor inicial del <strong>for</strong> y la posición máxima (top) de las filas y columnas. Colores de los cuadrados: background (00-00-00)/(FF-00-FF)/(00-FF-FF)/(FF-FF-00)/</p>
</li>
<li>
<p>- Módulo <strong>bmp_funcion.c</strong>: El bloque de código que realiza el bucle para inicializar los pixeles del cuadrado convertirlo en la función:</p>
<div class="ulist">
<ul>
<li>
<p>prototipo: <em>void pixels_generator(unsigned int x, unsigned int y, unsigned int maximo, RGB_data reg_mem[][top])</em></p>
<div class="ulist">
<ul>
<li>
<p>x e y son el origen de coordenadas del cuadrado</p>
</li>
<li>
<p>maximo es la coordenada mayor del cuadrado</p>
</li>
<li>
<p>llamada a la función: pixels_generator(xcoor,ycoor,top,buffer);</p>
<div class="ulist">
<ul>
<li>
<p>los argumentos xcoor=top/8, ycoor=top/8 y top=512 definirlos mediante macros</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_programación_en_asm">20.6.2. Programación en ASM</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>- Módulo <strong>bmp_as.c</strong>: Implementar la función <em>void pixels_generator(unsigned int maximo, RGB_data reg_mem[][top])</em> desarrollando en lenguaje ensamblador la subrutina  <em>pixels_generator</em> en el nuevo fichero <strong>array_pixel.s</strong>. El fichero en lenguaje ensamblador únicamente contendrá la subrutina.</p>
<div class="ulist">
<ul>
<li>
<p>La subrutina implementa el doble bucle.</p>
</li>
<li>
<p>De forma implicita en la propia subrutina consideraremos los argumentos x=y=0.</p>
</li>
<li>
<p>Azul, rojo y verde son las intensidades de todos los pixeles del cuadrado.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_gdb_3">20.6.3. GDB</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>En el programa en <strong>bmp_funcion.c</strong> indicar la posición de la pila donde se salva la dirección de retorno de la subrutina <strong>pixels_generator</strong>, así como el contenido del frame pointer y del stack pointer.</p>
</li>
<li>
<p>Lo mismo que en el apartado anterior con el programa <strong>bmp_as.c</strong> para la subrutina <em>pixels_generator</em></p>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph nav-footer">
<p>↑ Up: <a href="_vii_autoevaluación_prácticas.html">VII Autoevaluación Prácticas</a> | ⌂ Home: <a href="eecc_book.html">Estructura de Computadores  (240306)</a> | Next: <a href="_viii_apéndices.html">VIII Apéndices</a> →</p>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2022-09-14 15:29:34 +0200
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>